# ChArUco Camera Tracking - Androidç‰ˆ

Androidç«¯æœ«ã§ChArUcoãƒœãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸé«˜ç²¾åº¦ã‚«ãƒ¡ãƒ©ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚’å®Ÿç¾ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## æ¦‚è¦

ã“ã®Androidã‚¢ãƒ—ãƒªã¯ã€ChArUcoãƒœãƒ¼ãƒ‰ï¼ˆãƒã‚§ã‚¹ãƒœãƒ¼ãƒ‰ã¨ArUcoãƒãƒ¼ã‚«ãƒ¼ã‚’çµ„ã¿åˆã‚ã›ãŸã‚‚ã®ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€ã‚«ãƒ¡ãƒ©ã®ä½ç½®ã¨å§¿å‹¢ã‚’é«˜ç²¾åº¦ã§ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã—ã¾ã™ã€‚Pythonç‰ˆã®ä¸»è¦æ©Ÿèƒ½ã‚’Androidã«ç§»æ¤ã—ã¦ã„ã¾ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

- **ã‚«ãƒ¡ãƒ©ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: ã‚«ãƒ¡ãƒ©ã®å†…éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨æ­ªã¿ä¿‚æ•°ã‚’å–å¾—
- **é€£ç¶šè»Œè·¡ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚«ãƒ¡ãƒ©ä½ç½®(x, y, yaw)ã®è»Œè·¡ã‚’è¨˜éŒ²
- **ã‚¹ãƒãƒƒãƒˆæ¸¬å®š**: ç‰¹å®šåœ°ç‚¹ã§ã®é«˜ç²¾åº¦ä½ç½®æ¸¬å®šï¼ˆè¤‡æ•°ã‚µãƒ³ãƒ—ãƒ«å¹³å‡åŒ–ï¼‰
- **YAMLå‡ºåŠ›**: æ¸¬å®šçµæœã‚’YAMLå½¢å¼ã§ä¿å­˜

## ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

- Android 7.0 (API level 24) ä»¥ä¸Š
- ã‚«ãƒ¡ãƒ©æ­è¼‰ã®Androidç«¯æœ«
- ChArUcoãƒœãƒ¼ãƒ‰ï¼ˆå°åˆ·ç‰©ã¾ãŸã¯è¡¨ç¤ºãƒ‡ãƒã‚¤ã‚¹ï¼‰

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã®æº–å‚™

**åˆã‚ã¦Androidã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹å ´åˆ**ã¯ã€ã¾ãšé–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¿…è¦ã§ã™ï¼š

ğŸ“– **[SETUP_ENVIRONMENT.md](SETUP_ENVIRONMENT.md) - ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰**

å¿…è¦ãªã‚‚ã®ï¼š
- JDK 17ä»¥ä¸Š
- Android SDK
- VS Code ã¾ãŸã¯ Android Studio

è©³ç´°ãªæ‰‹é †ã¯ä¸Šè¨˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ¸ˆã¿ã®å ´åˆï¼‰

OpenCVã¯è‡ªå‹•çš„ã«MavençµŒç”±ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ãŸã‚ã€è¿½åŠ ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯ä¸è¦ã§ã™ï¼š

```bash
cd android
./build-release.sh
```

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ“ãƒ«ãƒ‰æ¸ˆã¿APKãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### 1. OpenCVã«ã¤ã„ã¦

**è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰**: OpenCVã¯MavençµŒç”±ã§è‡ªå‹•çš„ã«å–å¾—ã•ã‚Œã¾ã™ï¼ˆ`build.gradle.kts`ã§è¨­å®šæ¸ˆã¿ï¼‰

**æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**: å…¬å¼SDKã‚’ä½¿ç”¨ã—ãŸã„å ´åˆï¼š
1. [OpenCVå…¬å¼ã‚µã‚¤ãƒˆ](https://opencv.org/releases/)ã‹ã‚‰Android SDKã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
2. `opencv-4.x.x.aar` ã‚’ `android/app/libs/` ã«ã‚³ãƒ”ãƒ¼
3. `build.gradle.kts`ã®OpenCVä¾å­˜é–¢ä¿‚ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦æ‰‹å‹•ã®è¨­å®šã«åˆ‡ã‚Šæ›¿ãˆ

#### 2. ãƒ‡ãƒãƒƒã‚°APKã®ãƒ“ãƒ«ãƒ‰ï¼ˆé–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨ï¼‰

```bash
cd android
./gradlew assembleDebug
```

ç”Ÿæˆã•ã‚Œã‚‹APK: `app/build/outputs/apk/debug/app-debug.apk`

#### 3. ãƒªãƒªãƒ¼ã‚¹APKã®ãƒ“ãƒ«ãƒ‰ï¼ˆé…å¸ƒç”¨ï¼‰

è©³ç´°ãªæ‰‹é †ã¯ [BUILD_RELEASE.md](BUILD_RELEASE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

**ã‚¯ã‚¤ãƒƒã‚¯ã‚¬ã‚¤ãƒ‰**:

```bash
# 1. ç½²åéµã‚’ä½œæˆï¼ˆåˆå›ã®ã¿ï¼‰
keytool -genkey -v -keystore app/charuco-release-key.jks \
  -keyalg RSA -keysize 2048 -validity 10000 \
  -alias charuco-key

# 2. keystore.propertiesã‚’ä½œæˆ
cat > keystore.properties << 'EOF'
storePassword=YOUR_PASSWORD
keyPassword=YOUR_PASSWORD
keyAlias=charuco-key
storeFile=app/charuco-release-key.jks
EOF

# 3. ãƒ“ãƒ«ãƒ‰
./build-release.sh
```

ç”Ÿæˆã•ã‚Œã‚‹APK: `app/build/outputs/apk/release/app-release.apk`

### 4. ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
./gradlew installDebug
```

ã¾ãŸã¯ã€Android Studioã§å®Ÿè¡Œãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

## ä½¿ç”¨æ–¹æ³•

### 1. ChArUcoãƒœãƒ¼ãƒ‰ã®æº–å‚™

Pythonç‰ˆã®CLIãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ChArUcoãƒœãƒ¼ãƒ‰ç”»åƒã‚’ç”Ÿæˆã—ã¾ã™ï¼š

```bash
cd ..  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•
python cli.py generate-board -o board.png --size 3000
```

ç”Ÿæˆã•ã‚ŒãŸç”»åƒã‚’å°åˆ·ã™ã‚‹ã‹ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãªã©ã«è¡¨ç¤ºã—ã¾ã™ã€‚

**å°åˆ·æ™‚ã®æ³¨æ„ç‚¹:**
- å®Ÿéš›ã®ãƒã‚¹ã‚µã‚¤ã‚ºãŒè¨­å®šå€¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ40mmï¼‰ã¨ä¸€è‡´ã™ã‚‹ã‚ˆã†ã«å°åˆ·ã—ã¦ãã ã•ã„
- é«˜å“è³ªãªå°åˆ·ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼ˆãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒªãƒ³ã‚¿ãƒ¼æ¨å¥¨ï¼‰
- å¹³å¦ãªé¢ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„

### 2. ã‚«ãƒ¡ãƒ©ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã€ã€Œã‚«ãƒ¡ãƒ©ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¾ã™ã€‚

**æ“ä½œæ–¹æ³•:**
1. ChArUcoãƒœãƒ¼ãƒ‰ã‚’æ§˜ã€…ãªè§’åº¦ãƒ»ä½ç½®ã§ã‚«ãƒ¡ãƒ©ã«æ˜ ã—ã¾ã™
2. ã€Œãƒ•ãƒ¬ãƒ¼ãƒ å–å¾—ã€ãƒœã‚¿ãƒ³ã‚’é•·æŠ¼ã—ã—ã¦ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’å–å¾—ï¼ˆæœ€ä½30ãƒ•ãƒ¬ãƒ¼ãƒ å¿…è¦ï¼‰
3. ååˆ†ãªãƒ•ãƒ¬ãƒ¼ãƒ ã‚’å–å¾—ã—ãŸã‚‰ã€Œã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
4. ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œã€è‡ªå‹•çš„ã«ãƒ¡ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚Šã¾ã™

### 3. é€£ç¶šè»Œè·¡ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

ã€Œé€£ç¶šãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¾ã™ã€‚

**æ“ä½œæ–¹æ³•:**
1. ã€Œãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
2. ã‚«ãƒ¡ãƒ©ã‚’ç§»å‹•ã•ã›ãªãŒã‚‰è»Œè·¡ã‚’è¨˜éŒ²
3. ã€Œãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°çµ‚äº†ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
4. ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å…¥åŠ›ã—ã¦ä¿å­˜

**ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º:**
- è¨˜éŒ²ãƒãƒ¼ã‚ºæ•°
- X, Y, Zåº§æ¨™ï¼ˆmmå˜ä½ï¼‰
- Yawå›è»¢è§’åº¦ï¼ˆåº¦å˜ä½ï¼‰
- æ¤œå‡ºå“è³ªã‚¹ã‚³ã‚¢
- FPS

### 4. ã‚¹ãƒãƒƒãƒˆæ¸¬å®š

ã€Œã‚¹ãƒãƒƒãƒˆæ¸¬å®šã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¾ã™ã€‚

**æ“ä½œæ–¹æ³•:**
1. ã‚«ãƒ¡ãƒ©ã‚’ChArUcoãƒœãƒ¼ãƒ‰ä¸Šã®æ¸¬å®šä½ç½®ã«é…ç½®
2. ã€Œæ¸¬å®šé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
3. è‡ªå‹•çš„ã«30ã‚µãƒ³ãƒ—ãƒ«ã‚’åé›†ãƒ»å¹³å‡åŒ–
4. æ¸¬å®šå®Œäº†å¾Œã€çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™
5. ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å…¥åŠ›ã—ã¦ä¿å­˜

**æ¸¬å®šçµæœ:**
- å¹³å‡ä½ç½®ï¼ˆX, Y, Zï¼‰
- å¹³å‡å›è»¢è§’åº¦ï¼ˆYawï¼‰
- æ¨™æº–åå·®ï¼ˆç²¾åº¦ã®æŒ‡æ¨™ï¼‰

### 5. ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šå‡ºã—

æ¸¬å®šãƒ‡ãƒ¼ã‚¿ã¯ç«¯æœ«ã® `Documents` ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š
- ãƒ‘ã‚¹: `/Android/data/com.charuco.tracking/files/Documents/`

ãƒ•ã‚¡ã‚¤ãƒ«ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã‚¢ãƒ—ãƒªã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã‹ã€USBã§PCã«æ¥ç¶šã—ã¦å–ã‚Šå‡ºã›ã¾ã™ã€‚

## è¨­å®šã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

ã‚¢ãƒ—ãƒªã®è¨­å®šã¯ `ConfigManager.kt` ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®å®šæ•°ã‚’ç·¨é›†ã—ã¦ãã ã•ã„ï¼š

```kotlin
// ChArUco Board Configuration
const val DEFAULT_DICTIONARY = "DICT_5X5_100"
const val DEFAULT_SQUARES_X = 7
const val DEFAULT_SQUARES_Y = 7
const val DEFAULT_SQUARE_LENGTH = 0.04  // meters
const val DEFAULT_MARKER_LENGTH = 0.03  // meters

// Tracking Configuration
const val DEFAULT_TRACKING_FPS = 10
const val DEFAULT_MIN_CALIBRATION_FRAMES = 30
```

## å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿å½¢å¼

### ã‚¹ãƒãƒƒãƒˆæ¸¬å®š (spot_measurement.yaml)

```yaml
metadata:
  timestamp: "2025-01-15T10:30:00"
  measurement_type: "spot"

pose:
  translation:
    x: 123.456  # mm
    y: 234.567  # mm
    z: 450.123  # mm
  rotation:
    roll: 0.123   # degrees
    pitch: -0.234 # degrees
    yaw: 45.678   # degrees
  quality: 0.95
  num_samples: 30
  std_dev:
    x_mm: 0.012
    y_mm: 0.015
    z_mm: 0.020
```

### è»Œè·¡ãƒ‡ãƒ¼ã‚¿ (trajectory.yaml)

```yaml
metadata:
  num_poses: 150
  duration_sec: 5.2
  timestamp: "2025-01-15T10:35:00"

trajectory:
  - timestamp: 0.0
    translation: {x: 0.0, y: 0.0, z: 450.0}
    rotation: {roll: 0.0, pitch: 0.0, yaw: 0.0}
    quality: 0.95
    num_corners: 35

total_displacement:
  displacement:
    x_mm: 100.5
    y_mm: 50.3
    z_mm: 0.2
    yaw_deg: 15.8
  distance_2d_mm: 112.3
  distance_3d_mm: 112.3
```

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆ

```
com.charuco.tracking
â”œâ”€â”€ calibration/          # ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–¢é€£
â”‚   â””â”€â”€ CameraCalibrator.kt
â”œâ”€â”€ detector/             # ChArUcoæ¤œå‡º
â”‚   â””â”€â”€ CharucoDetector.kt
â”œâ”€â”€ tracking/             # ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°æ©Ÿèƒ½
â”‚   â”œâ”€â”€ TrajectoryTracker.kt
â”‚   â””â”€â”€ SpotMeasurer.kt
â”œâ”€â”€ ui/                   # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ MainActivity.kt
â”‚   â”œâ”€â”€ CalibrationActivity.kt
â”‚   â”œâ”€â”€ TrackingActivity.kt
â”‚   â””â”€â”€ SpotMeasurementActivity.kt
â””â”€â”€ utils/                # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    â”œâ”€â”€ CalibrationManager.kt
    â”œâ”€â”€ ConfigManager.kt
    â”œâ”€â”€ DataExporter.kt
    â””â”€â”€ PoseData.kt
```

### ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

- **OpenCV for Android**: ç”»åƒå‡¦ç†ã¨ChArUcoæ¤œå‡º
- **CameraX**: ã‚«ãƒ¡ãƒ©ã‚¢ã‚¯ã‚»ã‚¹ã¨ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
- **SnakeYAML**: YAMLå½¢å¼ã§ã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- **Material Components**: UIè¦ç´ 
- **Kotlin Coroutines**: éåŒæœŸå‡¦ç†

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**OpenCVãŒè¦‹ã¤ã‹ã‚‰ãªã„:**
- `android/app/libs/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«OpenCVã®AARãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
- `build.gradle.kts` ã®ä¾å­˜é–¢ä¿‚è¨­å®šã‚’ç¢ºèª

**NDKã‚¨ãƒ©ãƒ¼:**
- Android Studioã®SDK Managerã‹ã‚‰æœ€æ–°ã®NDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼

**ã‚«ãƒ¡ãƒ©ãŒèµ·å‹•ã—ãªã„:**
- ã‚«ãƒ¡ãƒ©æ¨©é™ãŒè¨±å¯ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ä»–ã®ã‚¢ãƒ—ãƒªãŒã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„ã‹ç¢ºèª

**ãƒœãƒ¼ãƒ‰ãŒæ¤œå‡ºã•ã‚Œãªã„:**
- ç…§æ˜ã‚’æ”¹å–„
- ã‚«ãƒ¡ãƒ©ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’èª¿æ•´
- ãƒœãƒ¼ãƒ‰ã¨ã‚«ãƒ¡ãƒ©ã®è·é›¢ã‚’èª¿æ•´ï¼ˆ20-50cmæ¨å¥¨ï¼‰
- ãƒœãƒ¼ãƒ‰ã®ã‚µã‚¤ã‚ºè¨­å®šãŒå®Ÿéš›ã®ãƒœãƒ¼ãƒ‰ã¨ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª

**ç²¾åº¦ãŒä½ã„:**
- ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚„ã‚Šç›´ã™
- ã‚ˆã‚Šå¤šãã®ã‚µãƒ³ãƒ—ãƒ«ã‚’åé›†
- ã‚«ãƒ¡ãƒ©ã‚’å›ºå®šã—ã¦æ¸¬å®š
- ãƒœãƒ¼ãƒ‰ã®å¹³å¦æ€§ã‚’ç¢ºèª

### ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã‚¨ãƒ©ãƒ¼

**ãƒ•ã‚¡ã‚¤ãƒ«ãŒä¿å­˜ã•ã‚Œãªã„:**
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ¨©é™ã‚’ç¢ºèªï¼ˆAndroid 10ä»¥é™ã¯ä¸è¦ï¼‰
- ååˆ†ãªã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ãŒã‚ã‚‹ã‹ç¢ºèª

## é«˜ç²¾åº¦åŒ–ã®ãŸã‚ã®ãƒ’ãƒ³ãƒˆ

### 1. ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢
- é«˜è§£åƒåº¦ã‚«ãƒ¡ãƒ©æ­è¼‰ã®ç«¯æœ«ã‚’ä½¿ç”¨
- ã‚«ãƒ¡ãƒ©ãƒ¬ãƒ³ã‚ºã‚’ãã‚Œã„ã«ä¿ã¤
- å‡ä¸€ãªç…§æ˜ã‚’ç¢ºä¿
- é«˜å“è³ªãªChArUcoãƒœãƒ¼ãƒ‰

### 2. ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- 50ãƒ•ãƒ¬ãƒ¼ãƒ ä»¥ä¸Šã‚’åé›†ï¼ˆæ¨å¥¨ï¼‰
- ãƒœãƒ¼ãƒ‰ã‚’æ§˜ã€…ãªè§’åº¦ãƒ»è·é›¢ã§æ’®å½±
- ç”»é¢å…¨ä½“ã‚’ä½¿ã£ã¦ãƒœãƒ¼ãƒ‰ã‚’ç§»å‹•
- å†æŠ•å½±èª¤å·®ãŒ0.5ãƒ”ã‚¯ã‚»ãƒ«ä»¥ä¸‹ã‚’ç›®æ¨™

### 3. æ¸¬å®šæ™‚
- ã‚¹ãƒãƒƒãƒˆæ¸¬å®šã§ã¯50-100ã‚µãƒ³ãƒ—ãƒ«ã‚’æ¨å¥¨
- ã‚«ãƒ¡ãƒ©ã¨ç«¯æœ«ã‚’ã—ã£ã‹ã‚Šå›ºå®š
- ååˆ†ãªæ•°ã®ã‚³ãƒ¼ãƒŠãƒ¼ãŒæ¤œå‡ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆquality > 0.8ï¼‰
- æ¨™æº–åå·®ã‚’ç¢ºèªï¼ˆ0.1mmä»¥ä¸‹ãŒç†æƒ³ï¼‰

### 4. ç’°å¢ƒ
- æŒ¯å‹•ã®å°‘ãªã„ç’°å¢ƒ
- å®‰å®šã—ãŸç…§æ˜
- ChArUcoãƒœãƒ¼ãƒ‰ã®åå°„ã‚’é¿ã‘ã‚‹
- é©åˆ‡ãªè·é›¢ï¼ˆ20-50cmï¼‰

## é–‹ç™ºæƒ…å ±

### ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰

```bash
./gradlew assembleDebug
adb install app/build/outputs/apk/debug/app-debug.apk
```

### ãƒ­ã‚°ç¢ºèª

```bash
adb logcat -s CharucoTracking
```

### ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°

Android Studioã®Profilerã‚’ä½¿ç”¨ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¢ºèªã§ãã¾ã™ã€‚

## Pythonç‰ˆã¨ã®é•ã„

- GUIè¡¨ç¤ºã®ã¿ï¼ˆCLIãªã—ï¼‰
- ãƒœãƒ¼ãƒ‰ç”»åƒç”Ÿæˆæ©Ÿèƒ½ã¯Pythonç‰ˆã‚’ä½¿ç”¨
- è»Œè·¡ã®å¯è¦–åŒ–æ©Ÿèƒ½ã¯Pythonç‰ˆã‚’ä½¿ç”¨
- æ¯”è¼ƒæ©Ÿèƒ½ã¯æœªå®Ÿè£…ï¼ˆPythonç‰ˆã‚’ä½¿ç”¨ï¼‰

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## å‚è€ƒæ–‡çŒ®

- OpenCV ArUco module documentation
- CameraX documentation
- "Automatic generation and detection of highly reliable fiducial markers under occlusion" (Garrido-Jurado et al., 2014)
